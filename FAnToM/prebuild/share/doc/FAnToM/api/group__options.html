<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FAnToM: Algorithm Options</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="FAnToM-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FAnToM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">scientific visualization and analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Algorithm Options</div>  </div>
</div><!--header-->
<div class="contents">

<p>This tutorial shows how to declare and retrieve algorithm options.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputBase.html">fantom::InputBase</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of all input objects.  <a href="classfantom_1_1InputBase.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputObject.html">fantom::InputObject</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class for input fields of complex classes with value semantics  <a href="classfantom_1_1InputObject.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1Input.html">fantom::Input&lt; DataType &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">implementation of input fields of class type  <a href="classfantom_1_1Input.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputLabel.html">fantom::InputLabel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing labels  <a href="classfantom_1_1InputLabel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputChoices.html">fantom::InputChoices</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing choices  <a href="classfantom_1_1InputChoices.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputMultiChoice.html">fantom::InputMultiChoice</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing multiple choices The data value is a set of the selected indices.  <a href="classfantom_1_1InputMultiChoice.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputSeed.html">fantom::InputSeed</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing seed values for random variables  <a href="classfantom_1_1InputSeed.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputSlider.html">fantom::InputSlider</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specialized input for representing Sliders in the options dialog.  <a href="classfantom_1_1InputSlider.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputLoadPath.html">fantom::InputLoadPath</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing load paths  <a href="classfantom_1_1InputLoadPath.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputSavePath.html">fantom::InputSavePath</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">specialized input for representing save paths  <a href="classfantom_1_1InputSavePath.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1InputUI.html">fantom::InputUI</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class for UI components connected to Inputs  <a href="classfantom_1_1InputUI.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1Options.html">fantom::Options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">base class of options  <a href="classfantom_1_1Options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This tutorial shows how to declare and retrieve algorithm options. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;fantom/algorithm.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fantom/math.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fantom/register.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacefantom.html">fantom</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span>OptionsTutorialAlgorithm : <span class="keyword">public</span> <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a></div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="classfantom_1_1Options.html">Options</a> : <span class="keyword">public</span> <a class="code" href="classfantom_1_1Algorithm.html#afd2cdec3a4e63e05e3f7003b656845b3">DataAlgorithm::Options</a></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="classfantom_1_1Options.html">Options</a>( <a class="code" href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a>&amp; control )</div>
<div class="line">                : <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a>::<a class="code" href="classfantom_1_1Options.html">Options</a>( control )</div>
<div class="line">            {</div>
<div class="line">                addTab( <span class="stringliteral">&quot;Basic&quot;</span> );</div>
<div class="line">                add&lt; bool &gt;( <span class="stringliteral">&quot;Choice&quot;</span>, <span class="stringliteral">&quot;An example boolean value.&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">                add&lt; int &gt;( <span class="stringliteral">&quot;Number&quot;</span>, <span class="stringliteral">&quot;An example integral value.&quot;</span>, 10, &amp;acceptNumber );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;Rational&quot;</span>, <span class="stringliteral">&quot;An example float value.&quot;</span>, 1.0, &amp;acceptRational );</div>
<div class="line">                addSeparator();</div>
<div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;An example string input.&quot;</span>, <span class="stringliteral">&quot;hello&quot;</span> );</div>
<div class="line">                add&lt; InputLoadPath &gt;( <span class="stringliteral">&quot;Load path&quot;</span>, <span class="stringliteral">&quot;An example load path input.&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line">                add&lt; InputSavePath &gt;( <span class="stringliteral">&quot;Save path&quot;</span>, <span class="stringliteral">&quot;An example save path input.&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"> </div>
<div class="line">                addTab( <span class="stringliteral">&quot;Advanced&quot;</span> );</div>
<div class="line">                add&lt; InputChoices &gt;(</div>
<div class="line">                    <span class="stringliteral">&quot;Selector&quot;</span>, <span class="stringliteral">&quot;An example selection.&quot;</span>, std::vector&lt; std::string &gt;{ <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;three&quot;</span> }, <span class="stringliteral">&quot;one&quot;</span> );</div>
<div class="line">                add&lt; Color &gt;( <span class="stringliteral">&quot;Color&quot;</span>, <span class="stringliteral">&quot;An example color.&quot;</span>, <a class="code" href="classfantom_1_1Color.html">Color</a>( 1.0, 0.0, 0.0 ) );</div>
<div class="line">                add&lt; Point3 &gt;( <span class="stringliteral">&quot;Position&quot;</span>, <span class="stringliteral">&quot;An example 3D position.&quot;</span>, <a class="code" href="group__math.html#gad8125119640f66e3b4101948fab706b8">Point3</a>() );</div>
<div class="line"> </div>
<div class="line">                add&lt; bool &gt;( <span class="stringliteral">&quot;Show/enable&quot;</span>, <span class="stringliteral">&quot;An option that toggles other options.&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"> </div>
<div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Hidden&quot;</span>, <span class="stringliteral">&quot;An invisible option.&quot;</span>, <span class="stringliteral">&quot;invisible&quot;</span> );</div>
<div class="line">                setVisible( <span class="stringliteral">&quot;Hidden&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"> </div>
<div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Disabled&quot;</span>, <span class="stringliteral">&quot;A disabled option.&quot;</span>, <span class="stringliteral">&quot;disabled&quot;</span> );</div>
<div class="line">                setEnabled( <span class="stringliteral">&quot;Disabled&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">void</span> optionChanged( <span class="keyword">const</span> std::string&amp; name )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>( name == <span class="stringliteral">&quot;Show/enable&quot;</span> )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">bool</span> value = get&lt; bool &gt;( <span class="stringliteral">&quot;Show/enable&quot;</span> );</div>
<div class="line">                    setVisible( <span class="stringliteral">&quot;Hidden&quot;</span>, value );</div>
<div class="line">                    setEnabled( <span class="stringliteral">&quot;Disabled&quot;</span>, value );</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">static</span> <span class="keywordtype">int</span> acceptNumber( <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; i )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> std::max( i, 0 );</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">static</span> <span class="keywordtype">double</span> acceptRational( <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; d )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>( d &gt;= 0.0 )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span> d;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">throw</span> std::runtime_error( <span class="stringliteral">&quot;Value must be non-negative.&quot;</span> );</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        OptionsTutorialAlgorithm( InitData&amp; init )</div>
<div class="line">            : <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a>( init )</div>
<div class="line">        {</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> execute( <span class="keyword">const</span> <a class="code" href="classfantom_1_1Options.html">Algorithm::Options</a>&amp; options, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span>&amp; <span class="comment">/*abortFlag*/</span> )</div>
<div class="line">        {</div>
<div class="line">            infoLog() &lt;&lt; <span class="stringliteral">&quot;Choice &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">bool</span> &gt;( <span class="stringliteral">&quot;Choice&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Number &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">int</span> &gt;( <span class="stringliteral">&quot;Number&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Rational &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;Rational&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Name &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; std::string &gt;( <span class="stringliteral">&quot;Name&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Load path &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; std::string &gt;( <span class="stringliteral">&quot;Load path&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Save path &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; std::string &gt;( <span class="stringliteral">&quot;Save path&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Selector &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; std::string &gt;( <span class="stringliteral">&quot;Selector&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Position &quot;</span> &lt;&lt; options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <a class="code" href="classfantom_1_1Tensor.html">Point3</a> &gt;( <span class="stringliteral">&quot;Position&quot;</span> ) &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classfantom_1_1AlgorithmRegister.html">AlgorithmRegister&lt; OptionsTutorialAlgorithm &gt;</a> dummy( <span class="stringliteral">&quot;Tutorial/Options&quot;</span>,</div>
<div class="line">                                                         <span class="stringliteral">&quot;Demonstrate all available option types.&quot;</span> );</div>
<div class="line">}</div>
</div><!-- fragment --><p>The algorithm shows multiple option types on two option tabs and, when run, reports their values.</p>
<div class="fragment"><div class="line">        <span class="keyword">struct </span>Options : <span class="keyword">public</span> DataAlgorithm::Options</div>
<div class="line">        {</div>
</div><!-- fragment --><p>This declares a class that describes the algorithm options of the enclosing algorithm. For all algorithms this class must be called <code>Options</code>, derived from <code>Algorithm::Options</code>, and nested inside the algorithm class.</p>
<div class="fragment"><div class="line">            Options( <a class="code" href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a>&amp; control )</div>
<div class="line">            {</div>
</div><!-- fragment --><p>An initial set of options must be declared in the constructor. The constructor must take a reference to <a class="el" href="classfantom_1_1Options_1_1Control.html" title="Private implementation of Options.">fantom::Options::Control</a> as argument. Interactive algorithms initialize views and manipulators here. Non-interactive algorithms usually do nothing beyond initializing persistent data members used for caching.</p>
<div class="fragment"><div class="line">                addTab( <span class="stringliteral">&quot;Basic&quot;</span> );</div>
</div><!-- fragment --><p>This creates a tab called "Basic". Tabs can be used to structure options into multiple parts. All options reside on the last declared tab. Empty tabs may not be shown in the GUI. If no tabs are declared, all options reside on a tab called "Options".</p>
<div class="fragment"><div class="line">                add&lt; bool &gt;( <span class="stringliteral">&quot;Choice&quot;</span>, <span class="stringliteral">&quot;An example boolean value.&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">                add&lt; int &gt;( <span class="stringliteral">&quot;Number&quot;</span>, <span class="stringliteral">&quot;An example integral value.&quot;</span>, 10, &amp;acceptNumber );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;Rational&quot;</span>, <span class="stringliteral">&quot;An example float value.&quot;</span>, 1.0, &amp;acceptRational );</div>
</div><!-- fragment --><p>This adds three simple options with potentially different GUI appearance. FAnToM supports all primitive C++ types and custom structs. There is build-in support for primitive types except characters and some other FAnToM-specific types used throughout this tutorial. When other, user-defined types should be used, an <code>InputUI</code> class should be registered, that allows the GUI to handle this input type.</p>
<p>The three arguments to the <code>add()</code> member function are: a unique identifier, a short info that is presented as tool-tip in the GUI, and the initial value. An optional fourth parameter specifies an accept callback. This will be explained shortly.</p>
<div class="fragment"><div class="line">                addSeparator();</div>
</div><!-- fragment --><p>Appends a small spacing to the current options tab.</p>
<div class="fragment"><div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Name&quot;</span>, <span class="stringliteral">&quot;An example string input.&quot;</span>, <span class="stringliteral">&quot;hello&quot;</span> );</div>
<div class="line">                add&lt; InputLoadPath &gt;( <span class="stringliteral">&quot;Load path&quot;</span>, <span class="stringliteral">&quot;An example load path input.&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line">                add&lt; InputSavePath &gt;( <span class="stringliteral">&quot;Save path&quot;</span>, <span class="stringliteral">&quot;An example save path input.&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
</div><!-- fragment --><p>This declares three string options with different handling by the GUI. Note the slightly different syntax to declare file paths. While string options typically have a plain line input in the GUI, the path versions also have buttons that show an appropriate file dialog when pressed.</p>
<div class="fragment"><div class="line">                add&lt; InputChoices &gt;(</div>
<div class="line">                add&lt; Color &gt;( <span class="stringliteral">&quot;Color&quot;</span>, <span class="stringliteral">&quot;An example color.&quot;</span>, Color( 1.0, 0.0, 0.0 ) );</div>
<div class="line">                add&lt; Point3 &gt;( <span class="stringliteral">&quot;Position&quot;</span>, <span class="stringliteral">&quot;An example 3D position.&quot;</span>, <a class="code" href="group__math.html#gad8125119640f66e3b4101948fab706b8">Point3</a>() );</div>
</div><!-- fragment --><p>These declare options for selection boxes, colors, and 3-D vectors, respectively. These also have specialized appearances in the GUI.</p>
<div class="fragment"><div class="line">                add&lt; bool &gt;( <span class="stringliteral">&quot;Show/enable&quot;</span>, <span class="stringliteral">&quot;An option that toggles other options.&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Hidden&quot;</span>, <span class="stringliteral">&quot;An invisible option.&quot;</span>, <span class="stringliteral">&quot;invisible&quot;</span> );</div>
<div class="line">                setVisible( <span class="stringliteral">&quot;Hidden&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">                add&lt; std::string &gt;( <span class="stringliteral">&quot;Disabled&quot;</span>, <span class="stringliteral">&quot;A disabled option.&quot;</span>, <span class="stringliteral">&quot;disabled&quot;</span> );</div>
<div class="line">                setEnabled( <span class="stringliteral">&quot;Disabled&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line">            }</div>
</div><!-- fragment --><p>This last group declares two text boxes that are initially hidden or disabled. The visibility can be adjusted interactively with the bool parameter.</p>
<div class="fragment"><div class="line">            <span class="keywordtype">void</span> optionChanged( <span class="keyword">const</span> std::string&amp; name )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>( name == <span class="stringliteral">&quot;Show/enable&quot;</span> )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">bool</span> value = get&lt; bool &gt;( <span class="stringliteral">&quot;Show/enable&quot;</span> );</div>
<div class="line">                    setVisible( <span class="stringliteral">&quot;Hidden&quot;</span>, value );</div>
<div class="line">                    setEnabled( <span class="stringliteral">&quot;Disabled&quot;</span>, value );</div>
<div class="line">                }</div>
<div class="line">            }</div>
</div><!-- fragment --><p>To achieve interactivity within the Options, the function <code>optionChanged</code> has to be implemented. In our case we simply check, whether a specific bool parameter has been toggled and react on that with showing/enabling the respective options. Beside this, it would also be possible to change parameter values. As a sidenote: if you want the algorithm to (not) automatically re-run on option changes, you can specify a static const bool data member "isAutoRun" in the algorithm class. Depending on its value the algorithm is automatically scheduled when an option changes.</p>
<div class="fragment"><div class="line">            <span class="keyword">static</span> <span class="keywordtype">int</span> acceptNumber( <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; i )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">return</span> std::max( i, 0 );</div>
<div class="line">            }</div>
</div><!-- fragment --><div class="fragment"><div class="line">            <span class="keyword">static</span> <span class="keywordtype">double</span> acceptRational( <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; d )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span>( d &gt;= 0.0 )</div>
<div class="line">                    <span class="keywordflow">return</span> d;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                    <span class="keywordflow">throw</span> std::runtime_error( <span class="stringliteral">&quot;Value must be non-negative.&quot;</span> );</div>
<div class="line">                }</div>
</div><!-- fragment --><p>The above declares two option accept callbacks. Option callbacks are invoked whenever the option's value is attempted to be changed; their purpose is to check the validity of an value. For this they have three possibilities: accepting the value by returning it (the default), "correcting" the value by returning a different one, and discarding the value by throwing an exception. <code>acceptNumber()</code> implements the second possibility, <code>acceptRational()</code> the third.</p>
<div class="fragment"><div class="line">        OptionsTutorialAlgorithm( InitData&amp; init )</div>
<div class="line">            : DataAlgorithm( init )</div>
<div class="line">        {</div>
<div class="line">        }</div>
</div><!-- fragment --><p>Before the first run of an algorithm and after each severe crash, the algorithm's constructor is called. In general, the constructor is only used to set the internal data structure <code>InitData&amp;</code> <code>init</code>.</p>
<div class="fragment"><div class="line">        <span class="keywordtype">void</span> execute( <span class="keyword">const</span> Algorithm::Options&amp; options, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span>&amp; <span class="comment">/*abortFlag*/</span> )</div>
<div class="line">        {</div>
</div><!-- fragment --><p>Each time the algorithm is run, <code>execute</code> is called. the parameter <code>abortFlag</code> should be checked regularly. It is initially set to <code>false</code> and will be <code>true</code> when the GUI requests the algorithm to stop immediately. The algorithm programmer should ensure that the algorithm stops, frees temporary data structures that will not be used in another run, and leaves the algorithm in a valid state. After an algorithm abortion has been detected, the algorithm must not perform any time-consuming operation.</p>
<div class="fragment"><div class="line">            infoLog() &lt;&lt; <span class="stringliteral">&quot;Choice &quot;</span> &lt;&lt; options.get&lt; <span class="keywordtype">bool</span> &gt;( <span class="stringliteral">&quot;Choice&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Number &quot;</span> &lt;&lt; options.get&lt; <span class="keywordtype">int</span> &gt;( <span class="stringliteral">&quot;Number&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Rational &quot;</span> &lt;&lt; options.get&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;Rational&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Name &quot;</span> &lt;&lt; options.get&lt; std::string &gt;( <span class="stringliteral">&quot;Name&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Load path &quot;</span> &lt;&lt; options.get&lt; std::string &gt;( <span class="stringliteral">&quot;Load path&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Save path &quot;</span> &lt;&lt; options.get&lt; std::string &gt;( <span class="stringliteral">&quot;Save path&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Selector &quot;</span> &lt;&lt; options.get&lt; std::string &gt;( <span class="stringliteral">&quot;Selector&quot;</span> ) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                      &lt;&lt; <span class="stringliteral">&quot;Position &quot;</span> &lt;&lt; options.get&lt; <a class="code" href="group__math.html#gad8125119640f66e3b4101948fab706b8">Point3</a> &gt;( <span class="stringliteral">&quot;Position&quot;</span> ) &lt;&lt; std::endl;</div>
<div class="line">        }</div>
</div><!-- fragment --><p>This retrieves the options from the algorithm parameters. Note the regular syntax. Also note that file paths and selection boxes are plain strings! When using <code>get()</code>, an exception is thrown if an identifier is unknown or the type does not match. Note that the coding guidelines prohibit the use of these exceptions to determine the regular program flow. Their sole purpose is to support algorithm development. </p>
</div><!-- contents -->
<div class="ttc" id="aclassfantom_1_1Color_html"><div class="ttname"><a href="classfantom_1_1Color.html">fantom::Color</a></div><div class="ttdoc">RGBA color.</div><div class="ttdef"><b>Definition:</b> math.hpp:1619</div></div>
<div class="ttc" id="aclassfantom_1_1Options_1_1Control_html"><div class="ttname"><a href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a></div><div class="ttdoc">Private implementation of Options.</div><div class="ttdef"><b>Definition:</b> options.hpp:456</div></div>
<div class="ttc" id="aclassfantom_1_1AlgorithmRegister_html"><div class="ttname"><a href="classfantom_1_1AlgorithmRegister.html">fantom::AlgorithmRegister</a></div><div class="ttdoc">registers an algorithm at the kernel</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:291</div></div>
<div class="ttc" id="anamespacefantom_html"><div class="ttname"><a href="namespacefantom.html">fantom</a></div><div class="ttdoc">FAnToM API namespace.</div><div class="ttdef"><b>Definition:</b> main.dox:37</div></div>
<div class="ttc" id="aclassfantom_1_1Options_html_ae454b0a66e9ddbde305ef9ec099b34b9"><div class="ttname"><a href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">fantom::Options::get</a></div><div class="ttdeci">input_detail::InputTypeTraits&lt; T &gt;::ValueType get(const std::string &amp;name) const</div><div class="ttdoc">Gives the value of an option.</div><div class="ttdef"><b>Definition:</b> options.hpp:590</div></div>
<div class="ttc" id="aclassfantom_1_1Algorithm_html_afd2cdec3a4e63e05e3f7003b656845b3"><div class="ttname"><a href="classfantom_1_1Algorithm.html#afd2cdec3a4e63e05e3f7003b656845b3">fantom::Algorithm::Options</a></div><div class="ttdeci">fantom::Options Options</div><div class="ttdoc">Base class for algorithm specific options.</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:70</div></div>
<div class="ttc" id="aclassfantom_1_1Tensor_html"><div class="ttname"><a href="classfantom_1_1Tensor.html">fantom::Tensor&lt; double, 3 &gt;</a></div></div>
<div class="ttc" id="aclassfantom_1_1Options_html"><div class="ttname"><a href="classfantom_1_1Options.html">fantom::Options</a></div><div class="ttdoc">base class of options</div><div class="ttdef"><b>Definition:</b> options.hpp:119</div></div>
<div class="ttc" id="aclassfantom_1_1DataAlgorithm_html"><div class="ttname"><a href="classfantom_1_1DataAlgorithm.html">fantom::DataAlgorithm</a></div><div class="ttdoc">base class of data algorithms</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:142</div></div>
<div class="ttc" id="agroup__math_html_gad8125119640f66e3b4101948fab706b8"><div class="ttname"><a href="group__math.html#gad8125119640f66e3b4101948fab706b8">fantom::Point3</a></div><div class="ttdeci">Tensor&lt; double, 3 &gt; Point3</div><div class="ttdoc">3-D point</div><div class="ttdef"><b>Definition:</b> math.hpp:769</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
