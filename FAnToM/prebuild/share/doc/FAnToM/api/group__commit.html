<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FAnToM: Committing Field Data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="FAnToM-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FAnToM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">scientific visualization and analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Committing Field Data</div>  </div>
</div><!--header-->
<div class="contents">

<p>This part of the tutorial shows how add new data to the system.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Committing Field Data:</div>
<div class="dyncontent">
<div class="center"><img src="group__commit.png" border="0" usemap="#group____commit" alt=""/></div>
<map name="group____commit" id="group____commit">
<area shape="rect" title="This part of the tutorial shows how add new data to the system." alt="" coords="5,22,159,47"/>
<area shape="rect" href="group__fields.html" title="This part of the tutorial shows how to work with tensor fields and grids. It also demonstrates the us..." alt="" coords="305,15,431,55"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1Domain.html">fantom::Domain</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discrete domain.  <a href="classfantom_1_1Domain.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1DomainFactory.html">fantom::DomainFactory</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory for different types of domains, mostly with spacial embedding.  <a href="classfantom_1_1DomainFactory.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1Function.html">fantom::Function&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Representation of data values on a discrete domain.  <a href="classfantom_1_1Function.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfantom_1_1ValueArray.html">fantom::ValueArray&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">an array which stores data  <a href="classfantom_1_1ValueArray.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadc30af26542ee61b874ff1847d115b1b"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gadc30af26542ee61b874ff1847d115b1b"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#gadc30af26542ee61b874ff1847d115b1b">fantom::addData</a> (const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;domain, const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;part, const <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &amp;values, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;())</td></tr>
<tr class="memdesc:gadc30af26542ee61b874ff1847d115b1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register data on a domain.  <a href="group__commit.html#gadc30af26542ee61b874ff1847d115b1b">More...</a><br /></td></tr>
<tr class="separator:gadc30af26542ee61b874ff1847d115b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a5bbc53de5407b01d0408febbfdc0b8"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga5a5bbc53de5407b01d0408febbfdc0b8"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#ga5a5bbc53de5407b01d0408febbfdc0b8">fantom::addData</a> (const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;domain, const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;part, std::vector&lt; T &gt; values, <a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a> precision=Precision::FLOAT64, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;())</td></tr>
<tr class="memdesc:ga5a5bbc53de5407b01d0408febbfdc0b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register data on a domain.  <a href="group__commit.html#ga5a5bbc53de5407b01d0408febbfdc0b8">More...</a><br /></td></tr>
<tr class="separator:ga5a5bbc53de5407b01d0408febbfdc0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00eed11fe201b2c157714032a156e0f7"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga00eed11fe201b2c157714032a156e0f7"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#ga00eed11fe201b2c157714032a156e0f7">fantom::makeData</a> (const <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &amp;values, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;())</td></tr>
<tr class="memdesc:ga00eed11fe201b2c157714032a156e0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classfantom_1_1List.html" title="Simple data list.">List</a> domain and register the data on it.  <a href="group__commit.html#ga00eed11fe201b2c157714032a156e0f7">More...</a><br /></td></tr>
<tr class="separator:ga00eed11fe201b2c157714032a156e0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39e2a085a3fa7a840c1a261da8450a3e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga39e2a085a3fa7a840c1a261da8450a3e"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#ga39e2a085a3fa7a840c1a261da8450a3e">fantom::makeData</a> (std::vector&lt; T &gt; values, <a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a> precision=Precision::FLOAT64, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;())</td></tr>
<tr class="memdesc:ga39e2a085a3fa7a840c1a261da8450a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classfantom_1_1List.html" title="Simple data list.">List</a> domain and register the data on it.  <a href="group__commit.html#ga39e2a085a3fa7a840c1a261da8450a3e">More...</a><br /></td></tr>
<tr class="separator:ga39e2a085a3fa7a840c1a261da8450a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6834968d0e4adc1db1a91e67af45e5e"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:gab6834968d0e4adc1db1a91e67af45e5e"><td class="memTemplItemLeft" align="right" valign="top">static std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#gab6834968d0e4adc1db1a91e67af45e5e">fantom::transferData</a> (const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &amp;data, const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;targetDomain, const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;targetPart=Domain::any, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;{})</td></tr>
<tr class="memdesc:gab6834968d0e4adc1db1a91e67af45e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfers a given <a class="el" href="classfantom_1_1Function.html" title="Representation of data values on a discrete domain.">Function</a> to a new <a class="el" href="classfantom_1_1Domain.html" title="Discrete domain.">Domain</a>.  <a href="group__commit.html#gab6834968d0e4adc1db1a91e67af45e5e">More...</a><br /></td></tr>
<tr class="separator:gab6834968d0e4adc1db1a91e67af45e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29a6234b9845c9da6cf748d5eab2fe6d"><td class="memTemplParams" colspan="2">template&lt;size_t D, typename T , typename Functor &gt; </td></tr>
<tr class="memitem:ga29a6234b9845c9da6cf748d5eab2fe6d"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1SpatialFunction.html">SpatialFunction</a>&lt; D, T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#ga29a6234b9845c9da6cf748d5eab2fe6d">fantom::makeSpatialFunction</a> (Functor &amp;&amp;function)</td></tr>
<tr class="memdesc:ga29a6234b9845c9da6cf748d5eab2fe6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function for spatial functions.  <a href="group__commit.html#ga29a6234b9845c9da6cf748d5eab2fe6d">More...</a><br /></td></tr>
<tr class="separator:ga29a6234b9845c9da6cf748d5eab2fe6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad286e24b294036c9e0c59e556a6496a1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:gad286e24b294036c9e0c59e556a6496a1"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__commit.html#gad286e24b294036c9e0c59e556a6496a1">fantom::makeValueArray</a> (std::vector&lt; T &gt; values, <a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a> precision=Precision::FLOAT64)</td></tr>
<tr class="memdesc:gad286e24b294036c9e0c59e556a6496a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classfantom_1_1ValueArray.html" title="an array which stores data">ValueArray</a> from a vector.  <a href="group__commit.html#gad286e24b294036c9e0c59e556a6496a1">More...</a><br /></td></tr>
<tr class="separator:gad286e24b294036c9e0c59e556a6496a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This part of the tutorial shows how add new data to the system. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;fantom/algorithm.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fantom/dataset.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fantom/register.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacefantom.html">fantom</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace</span></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>CommitTutorialAlgorithm : <span class="keyword">public</span> <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a></div>
<div class="line">    {</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="classfantom_1_1Options.html">Options</a> : <span class="keyword">public</span> <a class="code" href="classfantom_1_1Algorithm.html#afd2cdec3a4e63e05e3f7003b656845b3">DataAlgorithm::Options</a></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="classfantom_1_1Options.html">Options</a>( <a class="code" href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a>&amp; control )</div>
<div class="line">                : <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a>::<a class="code" href="classfantom_1_1Options.html">Options</a>( control )</div>
<div class="line">            {</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nx&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;ny&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nz&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line"> </div>
<div class="line">                addSeparator();</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dx&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dy&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dz&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="classfantom_1_1DataOutputs.html">DataOutputs</a> : <span class="keyword">public</span> <a class="code" href="classfantom_1_1DataOutputs.html">DataAlgorithm::DataOutputs</a></div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="classfantom_1_1DataOutputs.html">DataOutputs</a>( <a class="code" href="classfantom_1_1DataOutputs_1_1Control.html">fantom::DataOutputs::Control</a>&amp; control )</div>
<div class="line">                : <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a>::<a class="code" href="classfantom_1_1DataOutputs.html">DataOutputs</a>( control )</div>
<div class="line">            {</div>
<div class="line">                add&lt; const Grid&lt; 3 &gt; &gt;( <span class="stringliteral">&quot;grid&quot;</span> );</div>
<div class="line">                add&lt; const Function&lt; Vector3 &gt; &gt;( <span class="stringliteral">&quot;velocity&quot;</span> );</div>
<div class="line">                addBundle&lt; const Function&lt; Vector3 &gt; &gt;( <span class="stringliteral">&quot;velocity fields&quot;</span> ); <span class="comment">// test: add &quot;velocity&quot; as a bundle</span></div>
<div class="line">            }</div>
<div class="line">        };</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        CommitTutorialAlgorithm( InitData&amp; data )</div>
<div class="line">            : <a class="code" href="classfantom_1_1DataAlgorithm.html">DataAlgorithm</a>( data )</div>
<div class="line">        {</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <span class="keyword">const</span> <a class="code" href="classfantom_1_1Options.html">Algorithm::Options</a>&amp; options, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span>&amp; <span class="comment">/*abortFlag*/</span> )<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">        </span>{</div>
<div class="line">            <span class="keywordtype">size_t</span> extent[] = { (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nx&quot;</span> ),</div>
<div class="line">                                (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;ny&quot;</span> ),</div>
<div class="line">                                (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nz&quot;</span> ) };</div>
<div class="line">            <span class="keywordtype">double</span> origin[] = { -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dx&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nx&quot;</span> ) - 1 ),</div>
<div class="line">                                -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dy&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;ny&quot;</span> ) - 1 ),</div>
<div class="line">                                -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dz&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nz&quot;</span> ) - 1 ) };</div>
<div class="line">            <span class="keywordtype">double</span> spacing[]</div>
<div class="line">                = { options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dx&quot;</span> ), options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dy&quot;</span> ), options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dz&quot;</span> ) };</div>
<div class="line"> </div>
<div class="line">            std::vector&lt; double &gt; timeSteps( std::max( 1L, options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nt&quot;</span> ) ) );</div>
<div class="line">            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i != timeSteps.size(); ++i )</div>
<div class="line">            {</div>
<div class="line">                timeSteps[i] = i * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dt&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            std::shared_ptr&lt; const Grid&lt; 3 &gt; &gt; grid = <a class="code" href="classfantom_1_1DomainFactory.html#a0db4e68cc59393fbb06051af146025d8">DomainFactory::makeUniformGrid</a>( extent, origin, spacing );</div>
<div class="line"> </div>
<div class="line">            std::vector&lt; Vector3 &gt; values( grid-&gt;numPoints() * timeSteps.size() );</div>
<div class="line"> </div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">double</span> M[] = { -0.5, -0.2, 0.1, 0.5, 1.1, 0.1, -0.3, 0.0, 0.0, 1.0, -1.1, -0.5 };</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="classfantom_1_1Tensor.html">Tensor&lt; double, 3, 4 &gt;</a> m( M );</div>
<div class="line">            <span class="keywordtype">size_t</span> k = 0;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> n = 0; n != timeSteps.size(); ++n )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i != grid-&gt;numPoints(); ++i )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">double</span> t = timeSteps[n];</div>
<div class="line">                    <a class="code" href="classfantom_1_1Tensor.html">Point3</a> p = grid-&gt;points()[i];</div>
<div class="line">                    values[k++] = m * <a class="code" href="group__math.html#gac1b2034dd6e1afeef27f4f09ed42b8ec">Vector4</a>( p[0], p[1], p[2], t );</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            std::shared_ptr&lt; const Function&lt; Vector3 &gt; &gt; <span class="keyword">function</span></div>
<div class="line">                = <a class="code" href="group__commit.html#gadc30af26542ee61b874ff1847d115b1b">addData</a>( grid, <a class="code" href="classfantom_1_1Grid.html">Grid&lt; 3 &gt;::Points</a>, move( values ), Precision::FLOAT64, timeSteps );</div>
<div class="line"> </div>
<div class="line">            setResult( <span class="stringliteral">&quot;grid&quot;</span>, grid );</div>
<div class="line">            setResult( <span class="stringliteral">&quot;velocity&quot;</span>, <span class="keyword">function</span> );</div>
<div class="line"> </div>
<div class="line">            std::shared_ptr&lt; DataObjectBundle &gt; bundle = std::make_shared&lt; DataObjectBundle &gt;();</div>
<div class="line">            bundle-&gt;<a class="code" href="classfantom_1_1DataObjectBundle.html#ae74b3a6a5821db31f629044afb485c85">addContent</a>( <span class="keyword">function</span> );</div>
<div class="line">            bundle-&gt;<a class="code" href="classfantom_1_1DataObjectBundle.html#ae74b3a6a5821db31f629044afb485c85">addContent</a>( <span class="keyword">function</span> );</div>
<div class="line">            setResult( <span class="stringliteral">&quot;velocity fields&quot;</span>, bundle );</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="classfantom_1_1AlgorithmRegister.html">AlgorithmRegister&lt; CommitTutorialAlgorithm &gt;</a> dummy( <span class="stringliteral">&quot;Tutorial/Commit&quot;</span>, <span class="stringliteral">&quot;Generate a simple vector field.&quot;</span> );</div>
<div class="line">}</div>
</div><!-- fragment --><p>When started, the algorithm generates a domain and on it defines a simple unsteady vector field. Being a data algorithm, it does not show anything directly, but the generated data may be viewed with e.g. the boundary extraction, show grid, and hedgehogs.</p>
<div class="fragment"><div class="line">        <span class="keyword">struct </span>Options : <span class="keyword">public</span> DataAlgorithm::Options</div>
<div class="line">        {</div>
<div class="line">            Options( <a class="code" href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a>&amp; control )</div>
<div class="line">                : DataAlgorithm::Options( control )</div>
<div class="line">            {</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nx&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;ny&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nz&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line">                add&lt; long &gt;( <span class="stringliteral">&quot;nt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 10 );</div>
<div class="line"> </div>
<div class="line">                addSeparator();</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dx&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dy&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dz&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">                add&lt; double &gt;( <span class="stringliteral">&quot;dt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1.0 );</div>
<div class="line">            }</div>
<div class="line">        };</div>
</div><!-- fragment --><p>The options declare parameters for the extend (nx,ny,nz) of a uniform grid and its spacing (dx,dy,dz). nt and dt denote the number of time steps and their spacing, respectively.</p>
<div class="fragment"><div class="line">        <span class="keyword">struct </span>DataOutputs : <span class="keyword">public</span> DataAlgorithm::DataOutputs</div>
<div class="line">        {</div>
<div class="line">            DataOutputs( <a class="code" href="classfantom_1_1DataOutputs_1_1Control.html">fantom::DataOutputs::Control</a>&amp; control )</div>
<div class="line">                : DataAlgorithm::DataOutputs( control )</div>
<div class="line">            {</div>
<div class="line">                add&lt; const Grid&lt; 3 &gt; &gt;( <span class="stringliteral">&quot;grid&quot;</span> );</div>
<div class="line">                add&lt; const Function&lt; Vector3 &gt; &gt;( <span class="stringliteral">&quot;velocity&quot;</span> );</div>
<div class="line">                addBundle&lt; const Function&lt; Vector3 &gt; &gt;( <span class="stringliteral">&quot;velocity fields&quot;</span> ); <span class="comment">// test: add &quot;velocity&quot; as a bundle</span></div>
<div class="line">            }</div>
<div class="line">        };</div>
</div><!-- fragment --><p>To be able to output data, the outputs have to be declared first. In order to do so, an DataOutputs class has to be created.</p>
<p>The first output is an ordinary tensor field. Any data of type <em>Field</em> can be inserted into the output <em>"velocity"</em>. In some cases, there may be an unknown number of data objects of similar type. In that case, a bundle can be used as shown in the Output class. The bundle contains an arbitrary number of data objects of type <em>Field</em> that can be accessed via their index.</p>
<p>In the following, we will create two things: a grid and a function.</p>
<div class="fragment"><div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> execute( <span class="keyword">const</span> Algorithm::Options&amp; options, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span>&amp; <span class="comment">/*abortFlag*/</span> ) <span class="keyword">override</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordtype">size_t</span> extent[] = { (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nx&quot;</span> ),</div>
<div class="line">                                (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;ny&quot;</span> ),</div>
<div class="line">                                (size_t)options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nz&quot;</span> ) };</div>
<div class="line">            <span class="keywordtype">double</span> origin[] = { -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dx&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nx&quot;</span> ) - 1 ),</div>
<div class="line">                                -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dy&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;ny&quot;</span> ) - 1 ),</div>
<div class="line">                                -0.5 * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dz&quot;</span> ) * ( options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nz&quot;</span> ) - 1 ) };</div>
<div class="line">            <span class="keywordtype">double</span> spacing[]</div>
<div class="line">                = { options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dx&quot;</span> ), options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dy&quot;</span> ), options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dz&quot;</span> ) };</div>
</div><!-- fragment --><p>This defines the characteristics of the uniform grid: its extend, its spacing (the distance between grid points in each direction), and the origin (the point of the control point with index (0,0,0). The grid origin is set so that the grid is centered around the global origin.</p>
<div class="fragment"><div class="line">            std::vector&lt; double &gt; timeSteps( std::max( 1L, options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">long</span> &gt;( <span class="stringliteral">&quot;nt&quot;</span> ) ) );</div>
<div class="line">            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i != timeSteps.size(); ++i )</div>
<div class="line">            {</div>
<div class="line">                timeSteps[i] = i * options.<a class="code" href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">get</a>&lt; <span class="keywordtype">double</span> &gt;( <span class="stringliteral">&quot;dt&quot;</span> );</div>
<div class="line">            }</div>
</div><!-- fragment --><p>This initializes the time steps to be uniformly spaced starting at 0. Note that it is possible to use non-uniform spacing, time steps before 0, and no time steps at all (empty valarray).</p>
<div class="fragment"><div class="line">            std::shared_ptr&lt; const Grid&lt; 3 &gt; &gt; grid = DomainFactory::makeUniformGrid( extent, origin, spacing );</div>
</div><!-- fragment --><p>After all the setup, this finally creates a new uniform grid. This grid stores the positions of control points and the neighborhood relation between them. However, it does not store any values at the points or in the cells. We separated domains from data to allow multiple datasets on the same set of control points without duplicating data.</p>
<div class="fragment"><div class="line">            std::vector&lt; Vector3 &gt; values( grid-&gt;numPoints() * timeSteps.size() );</div>
</div><!-- fragment --><div class="fragment"><div class="line">            <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> n = 0; n != timeSteps.size(); ++n )</div>
<div class="line">                <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i != grid-&gt;numPoints(); ++i )</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordtype">double</span> t = timeSteps[n];</div>
<div class="line">                    <a class="code" href="group__math.html#gad8125119640f66e3b4101948fab706b8">Point3</a> p = grid-&gt;points()[i];</div>
<div class="line">                    values[k++] = m * <a class="code" href="group__math.html#gac1b2034dd6e1afeef27f4f09ed42b8ec">Vector4</a>( p[0], p[1], p[2], t );</div>
<div class="line">                }</div>
<div class="line">            }</div>
</div><!-- fragment --><p>Next we create a value store for some automatically generated data. We need <code>numPoints()</code> * <code>timeSteps.size()</code> many values, as FAnToM expects a value array to store a value for each control point and each time step. The values are grouped by time step, i.e. first there are all values for the first time step, followed by all values for the second time step, etc. Inside a time step the values are sorted to match the order of points, i.e., the first value is the value at control point number 0, followed by the value at control point number 1, etc.</p>
<p>In this example, the actual values are filled by the loop above in the correct order. The values are generated by multiplying a space-time vector with a 3 by 4 matrix (code omitted).</p>
<div class="fragment"><div class="line">            std::shared_ptr&lt; const Function&lt; Vector3 &gt; &gt; <span class="keyword">function</span></div>
<div class="line">                = <a class="code" href="group__commit.html#gadc30af26542ee61b874ff1847d115b1b">addData</a>( grid, Grid&lt; 3 &gt;::Points, move( values ), Precision::FLOAT64, timeSteps );</div>
</div><!-- fragment --><p>Finally, a <em>Function</em> is created from the generated values. Notice that the constructor of <em>Function</em> requires the part of the domain (here Grid&lt; 3 &gt;::Points) it is defined on. Using <code>move</code> to pass the data into addData prevents copying of the data and is more efficient.</p>
<div class="fragment"><div class="line">            setResult( <span class="stringliteral">&quot;grid&quot;</span>, grid );</div>
</div><!-- fragment --><p>The last step is the announcement of the field. When set into a result slot, which is identified by its name, other algorithms can use the field as an input parameter. To allow for unloading such data from the GUI, the algorithm should not hold shared_ptr's to the data itself.</p>
<p>Because of the way <em>Field</em> is implemented, automatic wrapping of <em>Functions</em> is possible. That is why we can define a <em>Field</em> as output, but actually set a <em>Function</em> as result.</p>
<div class="fragment"><div class="line">            std::shared_ptr&lt; DataObjectBundle &gt; bundle = std::make_shared&lt; DataObjectBundle &gt;();</div>
<div class="line">            bundle-&gt;addContent( <span class="keyword">function</span> );</div>
<div class="line">            bundle-&gt;addContent( <span class="keyword">function</span> );</div>
<div class="line">            setResult( <span class="stringliteral">&quot;velocity fields&quot;</span>, bundle );</div>
</div><!-- fragment --><p>As an example, also a data object bundle is committed. For simplicity, we just add the previously generated field twice to the bundle. Then the bundle is made public just the same as for more simple data objects.</p>
<p>FAnToM is quite clever when it comes to re-using data. E.g. if an algorithm creates a new tensor field based on the same grid the grid is not duplicated. However, it is ensured, that the grid stays in memory, as long as a tensor field needs it, even if the creating algorithm has been deleted.</p>
<p>FAnToM supports uniform, rectilinear, curvilinar, and unstructured grids. The creation of uniform grids was illustrated above, for the other types see the documentation of <a class="el" href="classfantom_1_1DomainFactory.html" title="Factory for different types of domains, mostly with spacial embedding.">fantom::DomainFactory</a> and fantom::DiscreteDomain, and extrapolate. Lacking from this tutorial is how to generate subsets of discrete domains, which is regularly employed to define domain boundaries. Again refer to fantom::DiscreteDomain for details on how to do it. Tensor fields can also be re-used in this case. A child tensor field can be created on a sub domain from a parent tensor field on the parent domain. The memory cost is only a lookup table in the subset domain. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadc30af26542ee61b874ff1847d115b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc30af26542ee61b874ff1847d115b1b">&#9670;&nbsp;</a></span>addData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt; fantom::addData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>timesteps</em> = <code>std::vector&lt;&#160;double&#160;&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register data on a domain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>The domain the data is to be registered on. </td></tr>
    <tr><td class="paramname">part</td><td>The part of this domain that the data is to be registered on. </td></tr>
    <tr><td class="paramname">values</td><td>The actual data values. </td></tr>
    <tr><td class="paramname">timesteps</td><td>The discrete timesteps that the data is available for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>domain is not nullptr </dd>
<dd>
values.size() == timesteps.size() * domainPartSize( part )</dd></dl>
<p>Note, that the values are grouped by timesteps, i.e., for every element in the domainPart there is one value and all values for one timestep are consecutive in values. </p>

</div>
</div>
<a id="ga5a5bbc53de5407b01d0408febbfdc0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a5bbc53de5407b01d0408febbfdc0b8">&#9670;&nbsp;</a></span>addData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt; fantom::addData </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; T &gt;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a>&#160;</td>
          <td class="paramname"><em>precision</em> = <code>Precision::FLOAT64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>timesteps</em> = <code>std::vector&lt;&#160;double&#160;&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register data on a domain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>The domain the data is to be registered on. </td></tr>
    <tr><td class="paramname">part</td><td>The part of this domain that the data is to be registered on. </td></tr>
    <tr><td class="paramname">values</td><td>The actual data values. </td></tr>
    <tr><td class="paramname">precision</td><td>The data format the values are given in </td></tr>
    <tr><td class="paramname">timesteps</td><td>The discrete timesteps that the data is available for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>domain is not nullptr </dd>
<dd>
values.size() == timesteps.size() * domainPartSize( part )</dd></dl>
<p>Note, that the values are grouped by timesteps, i.e., for every element in the domainPart there is one value and all values for one timestep are consecutive in values. </p>

</div>
</div>
<a id="ga00eed11fe201b2c157714032a156e0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00eed11fe201b2c157714032a156e0f7">&#9670;&nbsp;</a></span>makeData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt; fantom::makeData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>timesteps</em> = <code>std::vector&lt;&#160;double&#160;&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classfantom_1_1List.html" title="Simple data list.">List</a> domain and register the data on it. </p>
<p>This allows to easily define "raw" data lists, i.e., data that does not exist on a particular domain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>The actual data values. </td></tr>
    <tr><td class="paramname">timesteps</td><td>The discrete timesteps that the data is available for.</td></tr>
  </table>
  </dd>
</dl>
<p>Note, that the values are grouped by timesteps, i.e., for every element in the domainPart there is one value and all values for one timestep are consecutive in values. </p>

</div>
</div>
<a id="ga39e2a085a3fa7a840c1a261da8450a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39e2a085a3fa7a840c1a261da8450a3e">&#9670;&nbsp;</a></span>makeData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt; fantom::makeData </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a>&#160;</td>
          <td class="paramname"><em>precision</em> = <code>Precision::FLOAT64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>timesteps</em> = <code>std::vector&lt;&#160;double&#160;&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classfantom_1_1List.html" title="Simple data list.">List</a> domain and register the data on it. </p>
<p>This allows to easily define "raw" data lists, i.e., data that does not exist on a particular domain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>The actual data values. </td></tr>
    <tr><td class="paramname">precision</td><td>The data format the values are given in </td></tr>
    <tr><td class="paramname">timesteps</td><td>The discrete timesteps that the data is available for.</td></tr>
  </table>
  </dd>
</dl>
<p>Note, that the values are grouped by timesteps, i.e., for every element in the domainPart there is one value and all values for one timestep are consecutive in values. </p>

</div>
</div>
<a id="gab6834968d0e4adc1db1a91e67af45e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6834968d0e4adc1db1a91e67af45e5e">&#9670;&nbsp;</a></span>transferData()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &gt; fantom::transferData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1Function.html">Function</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="classfantom_1_1Domain.html">Domain</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targetDomain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classfantom_1_1DomainPart.html">DomainPart</a> &amp;&#160;</td>
          <td class="paramname"><em>targetPart</em> = <code>Domain::any</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>timesteps</em> = <code>std::vector&lt;&#160;double&#160;&gt;{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transfers a given <a class="el" href="classfantom_1_1Function.html" title="Representation of data values on a discrete domain.">Function</a> to a new <a class="el" href="classfantom_1_1Domain.html" title="Discrete domain.">Domain</a>. </p>
<p>The result is a <a class="el" href="classfantom_1_1Function.html" title="Representation of data values on a discrete domain.">Function</a> defined on <em>targetDomain</em>. If the original data fit the targetDomain (in terms of the number of values), the transfer is done. Otherwise, if targetDomain is a subdomain of the domain that the original data is registered on, the data is transfered down to the subdomain by means of a lookup. If the transfer does not complete, an exception is thrown.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>the value type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the original <a class="el" href="classfantom_1_1Function.html" title="Representation of data values on a discrete domain.">Function</a> </td></tr>
    <tr><td class="paramname">targetDomain</td><td>the associated domain to create the tensor field for </td></tr>
    <tr><td class="paramname">targetPart</td><td>the domain part that the data should be transfered to. Use Domain::any to let the function autoselect. </td></tr>
    <tr><td class="paramname">timesteps</td><td>the target timesteps for the data. Leave empty to let the function autoselect.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>targetDomain != nullptr</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classfantom_1_1logic__error.html" title="A fantom-created equivalent to std::logic_error.">fantom::logic_error</a></td><td>on invalid inputs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga29a6234b9845c9da6cf748d5eab2fe6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29a6234b9845c9da6cf748d5eab2fe6d">&#9670;&nbsp;</a></span>makeSpatialFunction()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;size_t D, typename T , typename Functor &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; const <a class="el" href="classfantom_1_1SpatialFunction.html">SpatialFunction</a>&lt; D, T &gt; &gt; fantom::makeSpatialFunction </td>
          <td>(</td>
          <td class="paramtype">Functor &amp;&amp;&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Factory function for spatial functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">function</td><td>A callable object that evaluates a formula for this spatial function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">D</td><td>the dimension of the spatial domain that this function is defined in </td></tr>
    <tr><td class="paramname">T</td><td>the data type of the function </td></tr>
    <tr><td class="paramname">Functor</td><td>the type of the function that evaluates the formula.</td></tr>
  </table>
  </dd>
</dl>
<p>The Functor type must be callable with the signature function( const Point&lt;D&gt;&amp;, double ) and return an object of type T. </p>

</div>
</div>
<a id="gad286e24b294036c9e0c59e556a6496a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad286e24b294036c9e0c59e556a6496a1">&#9670;&nbsp;</a></span>makeValueArray()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classfantom_1_1ValueArray.html">ValueArray</a>&lt; T &gt; &gt; fantom::makeValueArray </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; T &gt;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacefantom.html#afb6f4b7f77eb8baf45aa3a01ce2255e2">Precision</a>&#160;</td>
          <td class="paramname"><em>precision</em> = <code>Precision::FLOAT64</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="classfantom_1_1ValueArray.html" title="an array which stores data">ValueArray</a> from a vector. </p>
<p>If used with std::move, the vector content is not copied. Otherwise, a copy is made. In any case, the <a class="el" href="classfantom_1_1ValueArray.html" title="an array which stores data">ValueArray</a> is the owner of its data. </p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aclassfantom_1_1DataOutputs_html"><div class="ttname"><a href="classfantom_1_1DataOutputs.html">fantom::DataOutputs</a></div><div class="ttdoc">Data outputs of algorithms.</div><div class="ttdef"><b>Definition:</b> DataOutputs.hpp:25</div></div>
<div class="ttc" id="aclassfantom_1_1Options_1_1Control_html"><div class="ttname"><a href="classfantom_1_1Options_1_1Control.html">fantom::Options::Control</a></div><div class="ttdoc">Private implementation of Options.</div><div class="ttdef"><b>Definition:</b> options.hpp:456</div></div>
<div class="ttc" id="aclassfantom_1_1AlgorithmRegister_html"><div class="ttname"><a href="classfantom_1_1AlgorithmRegister.html">fantom::AlgorithmRegister</a></div><div class="ttdoc">registers an algorithm at the kernel</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:291</div></div>
<div class="ttc" id="aclassfantom_1_1DataOutputs_1_1Control_html"><div class="ttname"><a href="classfantom_1_1DataOutputs_1_1Control.html">fantom::DataOutputs::Control</a></div><div class="ttdoc">Abstract interface to the private implementation of Outputs.</div><div class="ttdef"><b>Definition:</b> DataOutputs.hpp:67</div></div>
<div class="ttc" id="anamespacefantom_html"><div class="ttname"><a href="namespacefantom.html">fantom</a></div><div class="ttdoc">FAnToM API namespace.</div><div class="ttdef"><b>Definition:</b> main.dox:37</div></div>
<div class="ttc" id="aclassfantom_1_1Options_html_ae454b0a66e9ddbde305ef9ec099b34b9"><div class="ttname"><a href="classfantom_1_1Options.html#ae454b0a66e9ddbde305ef9ec099b34b9">fantom::Options::get</a></div><div class="ttdeci">input_detail::InputTypeTraits&lt; T &gt;::ValueType get(const std::string &amp;name) const</div><div class="ttdoc">Gives the value of an option.</div><div class="ttdef"><b>Definition:</b> options.hpp:590</div></div>
<div class="ttc" id="aclassfantom_1_1Algorithm_html_afd2cdec3a4e63e05e3f7003b656845b3"><div class="ttname"><a href="classfantom_1_1Algorithm.html#afd2cdec3a4e63e05e3f7003b656845b3">fantom::Algorithm::Options</a></div><div class="ttdeci">fantom::Options Options</div><div class="ttdoc">Base class for algorithm specific options.</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:70</div></div>
<div class="ttc" id="aclassfantom_1_1Tensor_html"><div class="ttname"><a href="classfantom_1_1Tensor.html">fantom::Tensor</a></div><div class="ttdoc">tensor</div><div class="ttdef"><b>Definition:</b> Quaternion.hpp:12</div></div>
<div class="ttc" id="aclassfantom_1_1Options_html"><div class="ttname"><a href="classfantom_1_1Options.html">fantom::Options</a></div><div class="ttdoc">base class of options</div><div class="ttdef"><b>Definition:</b> options.hpp:119</div></div>
<div class="ttc" id="aclassfantom_1_1DataAlgorithm_html"><div class="ttname"><a href="classfantom_1_1DataAlgorithm.html">fantom::DataAlgorithm</a></div><div class="ttdoc">base class of data algorithms</div><div class="ttdef"><b>Definition:</b> algorithm.hpp:142</div></div>
<div class="ttc" id="agroup__math_html_gad8125119640f66e3b4101948fab706b8"><div class="ttname"><a href="group__math.html#gad8125119640f66e3b4101948fab706b8">fantom::Point3</a></div><div class="ttdeci">Tensor&lt; double, 3 &gt; Point3</div><div class="ttdoc">3-D point</div><div class="ttdef"><b>Definition:</b> math.hpp:769</div></div>
<div class="ttc" id="aclassfantom_1_1DomainFactory_html_a0db4e68cc59393fbb06051af146025d8"><div class="ttname"><a href="classfantom_1_1DomainFactory.html#a0db4e68cc59393fbb06051af146025d8">fantom::DomainFactory::makeUniformGrid</a></div><div class="ttdeci">static std::shared_ptr&lt; const Grid&lt; D &gt; &gt; makeUniformGrid(const size_t(&amp;extent)[D], const double(&amp;offset)[D], const double(&amp;spacing)[D])</div><div class="ttdoc">Creates a uniform rectilinear grid.</div><div class="ttdef"><b>Definition:</b> DomainFactory.hpp:513</div></div>
<div class="ttc" id="aclassfantom_1_1DataObjectBundle_html_ae74b3a6a5821db31f629044afb485c85"><div class="ttname"><a href="classfantom_1_1DataObjectBundle.html#ae74b3a6a5821db31f629044afb485c85">fantom::DataObjectBundle::addContent</a></div><div class="ttdeci">virtual void addContent(std::shared_ptr&lt; const DataObject &gt; dataObject, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Add another DataObject to the bundle.</div></div>
<div class="ttc" id="agroup__commit_html_gadc30af26542ee61b874ff1847d115b1b"><div class="ttname"><a href="group__commit.html#gadc30af26542ee61b874ff1847d115b1b">fantom::addData</a></div><div class="ttdeci">std::shared_ptr&lt; const Function&lt; T &gt; &gt; addData(const std::shared_ptr&lt; const Domain &gt; &amp;domain, const DomainPart &amp;part, const ValueArray&lt; T &gt; &amp;values, std::vector&lt; double &gt; timesteps=std::vector&lt; double &gt;())</div><div class="ttdoc">Register data on a domain.</div><div class="ttdef"><b>Definition:</b> Function.hpp:441</div></div>
<div class="ttc" id="agroup__math_html_gac1b2034dd6e1afeef27f4f09ed42b8ec"><div class="ttname"><a href="group__math.html#gac1b2034dd6e1afeef27f4f09ed42b8ec">fantom::Vector4</a></div><div class="ttdeci">Tensor&lt; double, 4 &gt; Vector4</div><div class="ttdoc">4-D vector</div><div class="ttdef"><b>Definition:</b> math.hpp:757</div></div>
<div class="ttc" id="aclassfantom_1_1Grid_html"><div class="ttname"><a href="classfantom_1_1Grid.html">fantom::Grid</a></div><div class="ttdoc">Representation of grids.</div><div class="ttdef"><b>Definition:</b> Grid.hpp:24</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
