<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FAnToM: Python API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="FAnToM-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FAnToM
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">scientific visualization and analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Python API</div>  </div>
</div><!--header-->
<div class="contents">

<p>FAnToM provides a python API that can be used to programmatically control both algorithms (instantiation, setting of parameters, running, deleting) and the user interface (camera settings, clipping planes, colors, snapshots). In the following, the provided packages and functions are described.  
<a href="#details">More...</a></p>
<p>FAnToM provides a python API that can be used to programmatically control both algorithms (instantiation, setting of parameters, running, deleting) and the user interface (camera settings, clipping planes, colors, snapshots). In the following, the provided packages and functions are described. </p>
<h1><a class="anchor" id="autotoc_md0"></a>
General</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
Environment</h2>
<p>FAnToM imports two packages by default: sys and fantom.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Versioning and Session Files</h2>
<p>The current FAnToM Python API is at version 20140403.</p>
<p>Session files are simply Python files containing calls to the Python API that restore the saved session. All Session files have to start with a preamble of the form: </p><div class="fragment"><div class="line"><span class="preprocessor">### FAnToM Session</span></div>
<div class="line"><span class="preprocessor">### API Version: 20140403</span></div>
</div><!-- fragment --><p> Then, all necessary commands follow.</p>
<p>If you happen to have session files that code against an older API version or do not contain any version header (i.e., version "0"), you can migrate them to the current API version using the fantom-updatesessionfile script.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Python API</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Packages â€“ Overview</h2>
<ul>
<li>fantom: main API for handling algorithms</li>
<li>fantom.ui: functions for controlling the user interface</li>
<li>fantom.math: python representations of the most common mathematical datatypes (see <a class="el" href="group__math.html">Mathematical Data Structures</a>).</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Package fantom.math</h2>
<ul>
<li>class <b>Color</b><ul>
<li>constructors:<ul>
<li>Color() -&gt; equals Color(0, 0, 0, 1)</li>
<li>Color(r, g, b) -&gt; equals Color(r, g, b, 1)</li>
<li>Color(r, g, b, a)</li>
</ul>
</li>
<li>read only properties:<ul>
<li>r, g, b, a</li>
</ul>
</li>
</ul>
</li>
<li>class <b>Scalar</b><ul>
<li>constructors:<ul>
<li><a class="el" href="group__math.html#ga01543b9b8f99fee61cdd2a3999096fde" title="Scalar.">Scalar()</a> -&gt; equals Scalar(0)</li>
<li>Scalar(s)</li>
</ul>
</li>
<li>access values:<ul>
<li>get() returns the value</li>
<li>set(s) sets the value</li>
<li><a class="el" href="group__math.html#gad3c8da92b56707a44794d8ea614e321d" title="Computes the norm of a tensor.">norm()</a> and <a class="el" href="group__math.html#ga7ece357f7ebc63d4526016546df51c3f" title="Computes the squared norm of a tensor.">norm2()</a> return the (squared) norm</li>
</ul>
</li>
<li>operators:<ul>
<li>comparison with Scalar: ==, !=, &lt;, &lt;=, &gt;, &gt;=</li>
<li>modification: += Scalar, -= Scalar, *= Scalar, /= Scalar, *= double, /= double</li>
<li>unary operators: +, -</li>
<li>calculation: + Scalar, - Scalar, * Scalar, / Scalar, * double, / double</li>
<li>str</li>
</ul>
</li>
</ul>
</li>
<li>classes <b>Vector1, Vector2, Vector3, Vector4</b><ul>
<li>constructors:<ul>
<li>VectorN() -&gt; constructs a zero vector</li>
<li>VectorN(i1, ..., iN) -&gt; constructs a vector</li>
</ul>
</li>
<li>access:<ul>
<li>get(index)</li>
<li>set(index, value)</li>
</ul>
</li>
<li>VectorN has the same operators as Scalar and additionally:<ul>
<li>normalized -&gt; returns normalized copy of self</li>
</ul>
</li>
<li>Vector2 also has area(Vector2) -&gt; return the spanned area</li>
<li>Vector3 also has cross(Vector3) -&gt; return the cross product</li>
</ul>
</li>
<li>classes <b>Matrix1, Matrix2, Matrix3, Matrix4</b><ul>
<li>constructors:<ul>
<li>MatrixN() -&gt; constructs a zero matrix</li>
<li>MatrixN( list ) -&gt; construct a matrix from a list (row wise)</li>
</ul>
</li>
<li>access:<ul>
<li>get(row, column)</li>
<li>set(row, column, value)</li>
</ul>
</li>
<li>MatrixN has the same operators as Scalar and additionally:<ul>
<li><a class="el" href="group__math.html#ga9e51044ae0c53e4b03940d8e8b4ee180" title="Computes matrix determinant.">determinant()</a> -&gt; compute the determinant</li>
<li><a class="el" href="group__math.html#gacd0e0b8ccca510503d4e45724afb190f" title="Computes matrix inverse.">inverse()</a> -&gt; returns the inverse matrix</li>
<li><a class="el" href="group__math.html#gafa22df8eccf9f0694dd874035c14c116" title="Computes the normalized tensor.">normalized()</a> -&gt; returns a copy of the matrix divided by the norm</li>
<li><a class="el" href="group__math.html#ga147c3fcd739384a1d10992f6c790eef4" title="Computes the transposed matrix.">transposed()</a> -&gt; returns the transposed matrix</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Package fantom.ui</h2>
<ul>
<li>class <b>Camera</b><ul>
<li>constructors:<ul>
<li>Camera() -&gt; construct invalid null camera</li>
<li>Camera(Vector3 pos, Vector3 center, Vector3 up, bool persective, double boundingRadius)</li>
</ul>
</li>
<li>read-write properties:<ul>
<li>Vector3 position, center, up</li>
<li>bool perspective</li>
<li>double boundingRadius</li>
</ul>
</li>
</ul>
</li>
<li>class <b>ClippingPlane</b><ul>
<li>constructor: ClippingPlane(int index, Vector4 planeEquation, bool enabled)</li>
<li>read-write properties:<ul>
<li>int index</li>
<li>Vector4 equation</li>
<li>bool enabled</li>
</ul>
</li>
</ul>
</li>
<li>class <b>RotationCenter</b><ul>
<li>constructor: RotationCenter(Vector3 position, bool rotationGlyph, bool trackballGlyph, bool orientationGlyph)</li>
<li>read-write properties:<ul>
<li>Vector3 position</li>
<li>bool rotationGlyphVisible</li>
<li>bool trackballGlyphVisible</li>
<li>bool orientationGlyphVisible</li>
</ul>
</li>
</ul>
</li>
<li>class <b>ViewSize</b><ul>
<li>constructors:<ul>
<li>ViewSize() -&gt; equals ViewSize(0, 0)</li>
<li>ViewSize(width, height)</li>
</ul>
</li>
<li>read-write properties:<ul>
<li>int x, y</li>
</ul>
</li>
</ul>
</li>
<li><b>functions</b>:<ul>
<li>Camera getCamera(int index)</li>
<li>setCamera(int index, Camera)</li>
<li>RotationCenter getRotationCenter()</li>
<li>setRotationCenter(RotationCenter)</li>
<li>(ClippingPlane, ...) getClippingPlanes()</li>
<li>setClippingPlane(ClippingPlane)</li>
<li>fantom.math.Color getBackgroundColor()</li>
<li>setBackgroundColor( fantom.math.Color )</li>
<li>ViewSize getViewSize()</li>
<li><b>takeSnapshot</b>(string filename [, ViewSize size [, Camera cam [, fantom.math.Color background] ] ])</li>
<li>setAlgorithmPosition(<a class="el" href="classfantom_1_1Algorithm.html" title="abstract base class of algorithms">fantom.Algorithm</a> algo, Vector2 pos)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Package fantom</h2>
<ul>
<li>class <b>Algorithm</b><ul>
<li>non-constructible!</li>
<li>all functions throw an exception, if the algorithm has been deleted in the mean time</li>
<li>functions:<ul>
<li>str</li>
<li>(string, ...) getOptionNames()</li>
<li>(string, ...) getOutputNames()</li>
<li>setOption(string name, variant value)</li>
<li>setState(string name, string base64)</li>
<li>setGraphicsVisibility( string name, bool visible )</li>
<li>setName( string name )</li>
<li>setAutoSchedule( bool autoSchedule ) -&gt; sets whether or not this algorithm shall be automatically scheduled when an algorithm further up in the graph is scheduled using runWithDependents (see below)</li>
<li>getResult( string name ) -&gt; returns the DataObject in the specified result, if it exists</li>
<li>connect( string myOutputname, Algorithm algo, string theirInputname [, bool force = False] ) -&gt; if force is True, existing connections will be replaced</li>
<li>connectWithTraits( string myOutputname, Algorithm algo, string theirInputname [, bool replaceexisting = False, position = max, extractbundle = False, extractelements = []] ) -&gt; allows to bind multiple connections to one input (ordered by position). extractelements is a list of elements that will be extracted from a bundle if extractbundle is True.</li>
<li>disconnect( string myOutputname, Algorithm algo, string theirInputname )</li>
<li>runWithDependents() -&gt; runs the algo and everything that is connected to it (directly and indirectly). Note, that while the algorithm itself will always be scheduled, only dependent algorithms with 'Auto schedule' checked will be scheduled.</li>
<li>run() -&gt; runs the algo (asynchronously)</li>
<li>runBlocking() -&gt; runs the algo and blocks until the algo has finished</li>
<li>abort() -&gt; stops the algo and removes it from the schedule</li>
<li>delete() -&gt; deletes the algo</li>
<li>store2DScene( string outputName, string outputfile, int width, int height ) -&gt; stores the 2D scene to a file, filetype determined by filename extension</li>
</ul>
</li>
</ul>
</li>
<li>class <b>DataObject</b><ul>
<li>non-constructible!</li>
<li>stores the DataObject by shared_ptr, so no resource unloading as long as such a python object exists</li>
<li>function:<ul>
<li>getInfoStrings()</li>
</ul>
</li>
</ul>
</li>
<li><b>functions</b>:<ul>
<li>Algorithm getAlgorithm(string name)</li>
<li>(Algorithm, ...) getAllAlgorithms() -&gt; returns instantiated algorithms</li>
<li>(string, ...) getAllAlgorithmNames() -&gt; returns the names of the instantiated algorithms</li>
<li>(string, ...) getAvailableAlgorithms() -&gt; returns the type names of all available algorithms</li>
<li>Algorithm makeAlgorithm( string typeName ) -&gt; create a new algorithm</li>
<li>scheduleAllNecessary() -&gt; schedules all algorithms for running that have a non-ok status (i.e., input has changed or algorithm has crashed or never run)</li>
<li>scheduleAllNecessaryWithDependencies() -&gt; Same as scheduleAllNecessary(), but additionally also schedules all algorithms that depend on at least one of the algorithms with non-ok status. Note, that while all non-ok algorithm will always be scheduled, only dependent algorithms with 'Auto schedule' checked will be scheduled.</li>
<li>waitForAlgorithms() -&gt; blocks until the current schedule has finished</li>
<li>loadSessionFile( string filename ) -&gt; load a FAnToM session from the specified python file</li>
<li>string askForText( string title, string question, string defaultText = "" ) -&gt; ask the user for a text and wait for his answer</li>
<li>fantom.math.Color chooseColor( string title, fantom.math.Color initial = fantom.math.Color() ) -&gt; ask the user for a color and wait for his answer</li>
<li>message( string title, string message, string type = "INFO" ) -&gt; inform the user about something. type can be "INFO", "WARN", "ERROR" or "ABOUT"</li>
<li>bool question( string title, string question, string positiveAnswer, string negativeAnswer ) -&gt; ask the user a question and wait for his answer</li>
<li>string openDir( string title, string initialDir ) -&gt; ask the user to choose a directory and wait for his answer. Empty result when aborted by the user.</li>
<li>string openFile( string title, string initialFile ) -&gt; ask the user to choose a file and wait for his answer. Empty result when aborted by the user.</li>
<li>[string] openFiles( string title, string initialDir ) -&gt; ask the user to choose some files and wait for his answer. Empty result when aborted by the user.</li>
<li>string saveFile( string title, string initialFile ) -&gt; ask the user to choose a file for saving and wait for his answer. Empty result when aborted by the user. </li>
</ul>
</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
